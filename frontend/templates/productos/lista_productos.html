{% extends 'home.html' %}

{% block title %}
  Gise Nails
{% endblock %}

{% block content %}
{% load static %}

<!-- ===================================================== -->
<!-- PLANTILLA: productos.html -->
<!-- DESCRIPCIÓN: Página pública que muestra el catálogo de productos -->
<!-- del spa Gise Nails con animaciones tipo flip-card y paginación. -->
<!-- ESTILOS: Se aplica la hoja de estilos personalizada producto.css -->
<!-- ===================================================== -->

<link rel="stylesheet" href="{% static 'css/producto.css' %}">

<!-- ===================================================== -->
<!-- TÍTULO PRINCIPAL DE LA PÁGINA -->
<!-- ===================================================== -->
<h1 class="text-center fw-bold mb-4"
    style="color:#ff4081;font-size:2.5em;font-family: 'Comic Sans MS', cursive;">
    ¡CONOCE TODOS NUESTROS PRODUCTOS!
</h1>

<!-- ===================================================== -->
<!-- DESCRIPCIÓN INTRODUCTORIA -->
<!-- ===================================================== -->
<p class="text-center fs-5 mb-4">
  Descubre nuestra variedad de productos para el cuidado de uñas y belleza,
  seleccionados para ti con la mejor calidad y seguridad.
</p>

<!-- ===================================================== -->
<!-- SECCIÓN DE TARJETAS DE PRODUCTOS -->
<!-- Cada producto se muestra con un efecto "flip-card" -->
<!-- que muestra nombre, descripción y precio al girar. -->
<!-- ===================================================== -->
<div class="row justify-content-center g-4">
  {% for producto in productos %}
  <div class="col-12 col-sm-6 col-md-4 col-lg-3">
    <div class="flip-card">
      <div class="flip-card-inner">

        <!-- ============================ -->
        <!-- LADO FRONTAL DE LA TARJETA -->
        <!-- Muestra la imagen del producto -->
        <!-- ============================ -->
        <div class="flip-card-front">
          {% if producto.imagen %}
          <img src="{{ producto.imagen.url }}"
               alt="{{ producto.nombre }}"
               class="card-img-top rounded"
               style="height:100%;width:100%;object-fit:cover;">
          {% endif %}
        </div>

        <!-- ============================ -->
        <!-- LADO POSTERIOR DE LA TARJETA -->
        <!-- Contiene nombre, descripción y precio -->
        <!-- ============================ -->
        <div class="flip-card-back d-flex flex-column justify-content-center align-items-center h-100 w-100 text-center">
          <h3 class="card-title fw-bold mb-2" style="color:#ff4081;">{{ producto.nombre }}</h3>
          <p class="card-text mb-2">{{ producto.descripcion }}</p>
          <span class="badge bg-light text-dark fs-6 mb-2 mt-2" style="width:100%;">
            ${{ producto.precio }}
          </span>
        </div>

      </div> <!-- Cierra flip-card-inner -->
    </div> <!-- Cierra flip-card -->
  </div> <!-- Cierra columna -->
  {% endfor %}
</div> <!-- Cierra el row de productos -->

<!-- ===================================================== -->
<!-- SECCIÓN DE PAGINACIÓN -->
<!-- Permite navegar entre las páginas del catálogo -->
<!-- ===================================================== -->
<div class="d-flex justify-content-center mt-4">
  <nav aria-label="Page navigation">
    <ul class="pagination">

      <!-- Botón Anterior -->
      {% if productos.has_previous %}
      <li class="page-item">
        <a class="page-link" href="?page={{ productos.previous_page_number }}" aria-label="Anterior">
          <span aria-hidden="true">&laquo;</span>
        </a>
      </li>
      {% else %}
      <li class="page-item disabled">
        <span class="page-link">&laquo;</span>
      </li>
      {% endif %}

      <!-- Números de página -->
      {% for num in productos.paginator.page_range %}
      {% if productos.number == num %}
      <li class="page-item active"><span class="page-link">{{ num }}</span></li>
      {% else %}
      <li class="page-item"><a class="page-link" href="?page={{ num }}">{{ num }}</a></li>
      {% endif %}
      {% endfor %}

      <!-- Botón Siguiente -->
      {% if productos.has_next %}
      <li class="page-item">
        <a class="page-link" href="?page={{ productos.next_page_number }}" aria-label="Siguiente">
          <span aria-hidden="true">&raquo;</span>
        </a>
      </li>
      {% else %}
      <li class="page-item disabled">
        <span class="page-link">&raquo;</span>
      </li>
      {% endif %}

    </ul>
  </nav>
</div>

{% endblock %}
