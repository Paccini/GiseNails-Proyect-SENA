{% extends 'home.html' %}
{% load static %}

{% block content %}
  <link rel="stylesheet" href="{% static 'css/inicio.css' %}" />
  <link rel="stylesheet" href="{% static 'css/loading.css' %}" />

  <style>
    /* scroll-fade: oculto por defecto y animación al hacerse visible */
    .scroll-fade {
      opacity: 0;
      transform: translateY(30px);
      transition: opacity 0.6s ease, transform 0.6s cubic-bezier(.2,.8,.2,1);
      will-change: opacity, transform;
    }
    .scroll-fade.visible {
      opacity: 1;
      transform: none;
    }
  </style>

  <main>
    <div class="loading-page">
      <svg id="svg" viewBox="0 0 400 200" xmlns="http://www.w3.org/2000/svg">
        <text id="svg-g" x="50%" y="55%" dominant-baseline="middle" text-anchor="middle">G</text>
      </svg>

      <div class="name-container">
        <div class="welcome-text">Bienvenid@ a Gise Nails</div>
      </div>
    </div>

    <!-- SECCIONES envueltas con la clase scroll-fade -->
    <section class="scroll-fade">
      <div id="carouselExample" class="carousel slide">
        <div class="carousel-inner carousel-img-container">
          <div class="carousel-item active cont-bn">
            <!-- <img src="{% static 'img/banner_inicio.png' %}" class="d-block w-100 carousel-img"> -->
          </div>
        </div>
      </div>
    </section>

    <section class="container-fluid py-5 scroll-fade" style="background-color: #ffe6f0;">
      <div class="row justify-content-around">
        <div class="col-md-2 text-center">
          <div class="rounded-circle">
            <img src="{% static 'img/barra1.png' %}" alt="Profesionales" />
          </div>
          <p class="mt-3">Profesionales apasionadas por el arte de embellecer tus uñas con precisión y estilo.</p>
        </div>
        <div class="col-md-2 text-center">
          <div class="rounded-circle">
            <img src="{% static 'img/barra.png' %}" alt="Reserva tu cita" />
          </div>
          <p class="mt-3">Reserva tu cita fácilmente en el horario que más te convenga.</p>
        </div>
        <div class="col-md-2 text-center">
          <div class="rounded-circle">
            <img src="{% static 'img/barra3.png' %}" alt="Servicio cálido" />
          </div>
          <p class="mt-3">Un servicio cálido y personalizado para ti</p>
        </div>
        <div class="col-md-2 text-center">
          <div class="rounded-circle">
            <img src="{% static 'img/barra4.png' %}" alt="Libres de tóxicos" />
          </div>
          <p class="mt-3">Libres de tóxicos y manejando estándares de calidad premium</p>
        </div>
        <div class="col-md-2 text-center">
          <div class="rounded-circle">
            <img src="{% static 'img/barra5.png' %}" alt="Protocolos de limpieza" />
          </div>
          <p class="mt-3">Cumplimos con estrictos protocolos de limpieza y esterilización</p>
        </div>
      </div>
    </section>

    <section class="container my-5 scroll-fade">
      <h2 class="text-center mb-4 text-danger" style="font-family: 'Tinos', serif">¡TUS UÑAS SIEMPRE A LA MODA CON NUESTROS EFECTOS!</h2>

      <div id="carouselUñas" class="carousel slide carousel-fade" data-bs-ride="carousel" data-bs-interval="4000">
        <div class="carousel-inner">
          <div class="carousel-item active position-relative">
            <img src="{% static 'img/uñas semipermanentes.jpg' %}" class="d-block w-100 rounded-4 shadow-lg carousel-img-efecto" alt="Uñas Semipermanentes" />
            <div class="overlay">
              <h3>Uñas Semipermanentes</h3>
              <p>Brillo duradero y acabado profesional</p>
            </div>
          </div>
          <div class="carousel-item position-relative">
            <img src="{% static 'img/uñas polygel.jpg' %}" class="d-block w-100 rounded-4 shadow-lg carousel-img-efecto" alt="Uñas Polygel" />
            <div class="overlay">
              <h3>Uñas Polygel</h3>
              <p>Fuerza y flexibilidad en un solo diseño</p>
            </div>
          </div>
          <div class="carousel-item position-relative">
            <img src="{% static 'img/uñas press-on.jpg' %}" class="d-block w-100 rounded-4 shadow-lg carousel-img-efecto" alt="Press-On" />
            <div class="overlay">
              <h3>Press-On Nails</h3>
              <p>Estilo instantáneo y sin complicaciones</p>
            </div>
          </div>
          <div class="carousel-item position-relative">
            <img src="{% static 'img/uñas tradicionales.jpg' %}" class="d-block w-100 rounded-4 shadow-lg carousel-img-efecto" alt="Uñas Tradicionales" />
            <div class="overlay">
              <h3>Uñas Tradicionales</h3>
              <p>Elegancia en su forma más clásica</p>
            </div>
          </div>
          <div class="carousel-item position-relative">
            <img src="{% static 'img/pies semipermanentes.jpg' %}" class="d-block w-100 rounded-4 shadow-lg carousel-img-efecto" alt="Pies Semipermanentes" />
            <div class="overlay">
              <h3>Pies Semipermanentes</h3>
              <p>Reluce cada paso con estilo y cuidado</p>
            </div>
          </div>
        </div>
        <button class="carousel-control-prev" type="button" data-bs-target="#carouselUñas" data-bs-slide="prev"><span class="carousel-control-prev-icon bg-dark rounded-circle p-3"></span></button>
        <button class="carousel-control-next" type="button" data-bs-target="#carouselUñas" data-bs-slide="next"><span class="carousel-control-next-icon bg-dark rounded-circle p-3"></span></button>
      </div>

      <div class="text-center mt-5">
        <a href="{% url 'reserva:reserva' %}" class="btn btn-danger rounded-pill px-5 py-2 fs-5 shadow">RESERVA AHORA</a>
      </div>
    </section>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.3/gsap.min.js" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="{% static 'js/loading.js' %}"></script>

    <!-- Intersection Observer para activar la clase .visible en .scroll-fade -->
    <script>
      document.addEventListener('DOMContentLoaded', function () {
        const observer = new IntersectionObserver((entries, obs) => {
          entries.forEach(entry => {
            if (entry.isIntersecting) {
              entry.target.classList.add('visible');
              obs.unobserve(entry.target);
            }
          });
        }, { threshold: 0.15 });

        document.querySelectorAll('.scroll-fade').forEach(el => observer.observe(el));
      });
    </script>
  </main>
{% endblock %}